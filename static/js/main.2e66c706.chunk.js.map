{"version":3,"sources":["components/WeatherDays/WeatherDays.module.scss","components/WeatherDetails/WeatherDetails.module.scss","components/App/App.module.scss","weatherApi/weatherApi.js","components/WeatherDetails/WeatherDetails.js","components/WeatherDays/WeatherDays.js","components/App/App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","getWeather","citySearch","a","get","data","console","error","WeatherDetails","details","wind","main","clouds","log","idx","targetDay","whatTheDay","className","s","detailsBox","aboutTargetDay","property","pop","deg","speed","temp_min","temp_max","pressure","humidity","all","WeatherDays","state","weatherUseData","weatherUseDetails","handleClickDay","dayIdx","setState","changeDayDetails","filter","_","this","props","day","isShowDetails","about","daysWeatherBox","map","icon","weather","find","item","urlIcon","dayBox","key","dt","onClick","titleDay","iconBox","src","alt","imageIcon","temp","React","Component","App","city","handleSearchPrompt","weatherApi","handleSearchCity","value","reg","search","replace","handleSubmitCity","evt","preventDefault","isShowData","appWrapper","titleApp","target","rel","href","onSubmit","form","input","type","placeholder","onChange","button","description","descrBtn","list","devName","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.2e66c706.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"daysWeatherBox\":\"WeatherDays_daysWeatherBox__2IvP6\",\"about\":\"WeatherDays_about__fqfQA\",\"dayBox\":\"WeatherDays_dayBox__2K4C-\",\"iconBox\":\"WeatherDays_iconBox__2XjVX\",\"imageIcon\":\"WeatherDays_imageIcon__DFAGw\",\"titleDay\":\"WeatherDays_titleDay__3eRSI\",\"temp\":\"WeatherDays_temp__3yaSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailsBox\":\"WeatherDetails_detailsBox__3g9v4\",\"property\":\"WeatherDetails_property__2AoBx\",\"aboutTargetDay\":\"WeatherDetails_aboutTargetDay__18aqW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1SNcf\",\"titleApp\":\"App_titleApp__3P2dx\",\"description\":\"App_description__1T8iK\",\"descrBtn\":\"App_descrBtn__2M4si\",\"form\":\"App_form__2vcrT\",\"input\":\"App_input__2WU02\",\"button\":\"App_button__1tFgG\",\"devName\":\"App_devName__1knTt\"};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'http://api.openweathermap.org';\r\n\r\nconst ApiKey = '889aa1433777fac2383867e84807139f';\r\n\r\nconst getWeather = async citySearch => {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/data/2.5/forecast?q=${citySearch}&units=metric&appid=${ApiKey}`,\r\n    );\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport default { getWeather };\r\n","import React from 'react';\r\nimport s from './WeatherDetails.module.scss';\r\n\r\nexport default function WeatherDetails({ details }) {\r\n  const wind = { ...details.wind };\r\n  const main = { ...details.main };\r\n  const clouds = { ...details.clouds };\r\n  // const weather = { ...details.weather.icon };\r\n\r\n  console.log(details);\r\n\r\n  // console.log(details.whatTheDay);\r\n\r\n  const changeAboutDay = idx => {\r\n    if (idx === 0) return 'Сегодняшний день';\r\n\r\n    if (idx === 1) return 'Завтрашний день';\r\n\r\n    if (idx === 2) return 'Послезавтра';\r\n\r\n    if (idx === 3) return 'Через 2 дня';\r\n\r\n    if (idx === 4) return 'Через 3 дня';\r\n\r\n    return 'Сегодняшний день';\r\n  };\r\n\r\n  const targetDay = changeAboutDay(details.whatTheDay);\r\n\r\n  // const pop = details[0].pop;\r\n  // const deg = details[0].wind.deg;\r\n  // const speed = details[0].wind.speed;\r\n  // const temp = details[0].main.temp;\r\n  // const pressure = details[0].main.grnd_level;\r\n  // const humidity = details[0].main.humidity;\r\n  // const clouds = details[0].clouds.all;\r\n\r\n  return (\r\n    <div className={s.detailsBox}>\r\n      <h3 className={s.aboutTargetDay}>Подробности. {targetDay}</h3>\r\n      <p className={s.property}>\r\n        Вероятность выпадения осадков: <span>{details.pop}%</span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Направление ветра: <span>{wind.deg} градус(ов)</span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Скорость ветра: <span>{wind.speed} метр/сек</span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Температура:{' '}\r\n        <span>\r\n          min {main.temp_min}°, max {main.temp_max}°\r\n        </span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Давление: <span>{main.pressure}</span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Влажность: <span>{main.humidity}%</span>\r\n      </p>\r\n      <p className={s.property}>\r\n        Облачность: <span>{clouds.all}%</span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport WeatherDetails from '../WeatherDetails/WeatherDetails';\r\nimport s from './WeatherDays.module.scss';\r\n\r\nexport default class WeatherDays extends React.Component {\r\n  state = { weatherUseData: [], weatherUseDetails: {} };\r\n\r\n  componentDidMount() {\r\n    const weatherUseData = this.props.data.filter(\r\n      (day, idx) => idx % 8 === 0 && day,\r\n    );\r\n\r\n    this.setState({\r\n      weatherUseData,\r\n      weatherUseDetails: { ...weatherUseData[0] },\r\n    });\r\n  }\r\n\r\n  handleClickDay = dayIdx => {\r\n    this.setState({\r\n      weatherUseDetails: {\r\n        ...this.changeDayDetails(dayIdx)[0],\r\n        whatTheDay: dayIdx,\r\n      },\r\n    });\r\n  };\r\n\r\n  changeDayDetails = dayIdx =>\r\n    this.state.weatherUseData.filter((_, idx) => idx === dayIdx);\r\n\r\n  render() {\r\n    const isShowDetails = this.state.weatherUseDetails;\r\n\r\n    return (\r\n      <div>\r\n        <p className={s.about}>\r\n          Нажмите на нужный день, чтобы узнать подробности\r\n        </p>\r\n        <div className={s.daysWeatherBox}>\r\n          {this.state.weatherUseData.map((day, idx) => {\r\n            const icon = day.weather.find(item => item.icon).icon;\r\n\r\n            const urlIcon = `http://openweathermap.org/img/wn/${icon}@2x.png`;\r\n\r\n            console.log(icon);\r\n\r\n            if (idx === 0) {\r\n              return (\r\n                <div\r\n                  className={s.dayBox}\r\n                  key={day.dt}\r\n                  onClick={() => this.handleClickDay(0)}\r\n                >\r\n                  <h3 className={s.titleDay}>Сегодня</h3>\r\n                  <div className={s.iconBox}>\r\n                    <img\r\n                      src={urlIcon}\r\n                      alt=\"weather icon\"\r\n                      className={s.imageIcon}\r\n                    />\r\n                  </div>\r\n                  <p className={s.temp}>{day.main.temp}°</p>\r\n                </div>\r\n              );\r\n            }\r\n            if (idx === 1) {\r\n              return (\r\n                <div\r\n                  className={s.dayBox}\r\n                  key={day.dt}\r\n                  onClick={() => this.handleClickDay(1)}\r\n                >\r\n                  <h3 className={s.titleDay}>Завтра</h3>\r\n                  <div className={s.iconBox}>\r\n                    <img\r\n                      src={urlIcon}\r\n                      alt=\"weather icon\"\r\n                      className={s.imageIcon}\r\n                    />\r\n                  </div>\r\n                  <p className={s.temp}>{day.main.temp}°</p>\r\n                </div>\r\n              );\r\n            }\r\n            if (idx === 2) {\r\n              return (\r\n                <div\r\n                  className={s.dayBox}\r\n                  key={day.dt}\r\n                  onClick={() => this.handleClickDay(2)}\r\n                >\r\n                  <h3 className={s.titleDay}>Через день</h3>\r\n                  <div className={s.iconBox}>\r\n                    <img\r\n                      src={urlIcon}\r\n                      alt=\"weather icon\"\r\n                      className={s.imageIcon}\r\n                    />\r\n                  </div>\r\n                  <p className={s.temp}>{day.main.temp}°</p>\r\n                </div>\r\n              );\r\n            }\r\n            if (idx === 3) {\r\n              return (\r\n                <div\r\n                  className={s.dayBox}\r\n                  key={day.dt}\r\n                  onClick={() => this.handleClickDay(3)}\r\n                >\r\n                  <h3 className={s.titleDay}>Через 2 дня</h3>\r\n                  <div className={s.iconBox}>\r\n                    <img\r\n                      src={urlIcon}\r\n                      alt=\"weather icon\"\r\n                      className={s.imageIcon}\r\n                    />\r\n                  </div>\r\n                  <p className={s.temp}>{day.main.temp}°</p>\r\n                </div>\r\n              );\r\n            }\r\n            if (idx === 4) {\r\n              return (\r\n                <div\r\n                  className={s.dayBox}\r\n                  key={day.dt}\r\n                  onClick={() => this.handleClickDay(4)}\r\n                >\r\n                  <h3 className={s.titleDay}>Через 3 дня</h3>\r\n                  <div className={s.iconBox}>\r\n                    <img\r\n                      src={urlIcon}\r\n                      alt=\"weather icon\"\r\n                      className={s.imageIcon}\r\n                    />\r\n                  </div>\r\n                  <p className={s.temp}>{day.main.temp}°</p>\r\n                </div>\r\n              );\r\n            }\r\n            return day;\r\n          })}\r\n        </div>\r\n\r\n        {isShowDetails && (\r\n          <WeatherDetails details={this.state.weatherUseDetails} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\n\nimport weatherApi from '../../weatherApi/weatherApi';\nimport WeatherDays from '../WeatherDays/WeatherDays';\nimport s from './App.module.scss';\n\nexport default class App extends React.Component {\n  state = { city: '', data: null };\n\n  handleSearchPrompt = async () => {\n    const data = await weatherApi.getWeather('Kyiv');\n\n    if (data) this.setState({ data });\n    this.setState({ city: '' });\n  };\n\n  handleSearchCity = value => {\n    const reg = /[а-яА-ЯёЁ]/g;\n\n    value.search(reg) !== -1\n      ? (value = value.replace(reg, ''))\n      : this.setState({ city: value });\n  };\n\n  handleSubmitCity = async evt => {\n    evt.preventDefault();\n\n    if (!this.state.city) return;\n\n    const data = await weatherApi.getWeather(this.state.city);\n\n    console.log(data);\n\n    if (data) this.setState({ data });\n    this.setState({ city: '' });\n  };\n\n  render() {\n    const { city, data } = this.state;\n    const isShowData = data;\n\n    return (\n      <div className={s.appWrapper}>\n        <h1 className={s.titleApp}>\n          <p>Погода</p>\n          <p>\n            by{' '}\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href=\"https://openweathermap.org/\"\n            >\n              OpenWeatherMap\n            </a>{' '}\n            api\n          </p>\n          <p>(React app)</p>\n        </h1>\n        <form onSubmit={this.handleSubmitCity} className={s.form}>\n          <input\n            className={s.input}\n            type=\"text\"\n            value={city}\n            placeholder=\"Поиск города\"\n            onChange={({ target }) => this.handleSearchCity(target.value)}\n          />\n          <button type=\"submit\" className={s.button}>\n            Поиск\n          </button>\n        </form>\n\n        {!isShowData && (\n          <div className={s.description}>\n            Введите город латиницей (англ. раскладка) в поле ввода, например:\n            <button className={s.descrBtn} onClick={this.handleSearchPrompt}>\n              Kyiv\n            </button>\n          </div>\n        )}\n\n        {isShowData && <WeatherDays data={data.list} />}\n\n        <div className={s.devName}>\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://www.linkedin.com/in/aleksey-grygorenko-1358911ba/\"\n          >\n            by Aleksey Grygorenko\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './main.scss';\n\nReactDOM.render(\n  <App />,\n\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}